generator client {
  provider = "prisma-client-js"
  output   = "./generated/client_app"
}

datasource db {
  provider = "sqlserver"
  url      = env("DATABASE_URL")
}

model Asset {
  id            Int            @id @default(autoincrement())
  name          String
  serialNumber  String         @unique
  assetTag      String?
  type          String
  brand         String?
  model         String?
  spec          String?
  purchaseDate  DateTime?
  warrantyUntil DateTime?
  location      String?
  status        String         @default("ACTIVE") @db.NVarChar(50)
  ownerId       Int?
  User          User?          @relation(fields: [ownerId], references: [id], onDelete: NoAction, onUpdate: NoAction)
  AssetHistory  AssetHistory[]
  License       License[]
  Monitor       Monitor?
  Ticket        Ticket[]
  Contract      Contract[]     @relation("ContractAssets")
}

model AssetHistory {
  id                                 Int      @id @default(autoincrement())
  assetId                            Int
  oldOwnerId                         Int?
  newOwnerId                         Int?
  changedAt                          DateTime @default(now())
  reason                             String?
  Asset                              Asset    @relation(fields: [assetId], references: [id], onUpdate: NoAction)
  User_AssetHistory_newOwnerIdToUser User?    @relation("AssetHistory_newOwnerIdToUser", fields: [newOwnerId], references: [id], onDelete: NoAction, onUpdate: NoAction)
  User_AssetHistory_oldOwnerIdToUser User?    @relation("AssetHistory_oldOwnerIdToUser", fields: [oldOwnerId], references: [id], onDelete: NoAction, onUpdate: NoAction)
}

model AuditLog {
  id        Int      @id @default(autoincrement())
  action    String
  tableName String
  recordId  Int?
  oldValue  String?  @db.NVarChar(Max)
  newValue  String?  @db.NVarChar(Max)
  userId    Int
  ipAddress String?
  userAgent String?
  timestamp DateTime @default(now())
  User      User     @relation(fields: [userId], references: [id], onUpdate: NoAction)
}

model Contract {
  id          Int      @id @default(autoincrement())
  title       String
  contractNo  String   @unique
  startDate   DateTime
  endDate     DateTime
  amount      Float?
  description String?  @db.NVarChar(Max)
  vendorId    Int
  Vendor      Vendor   @relation(fields: [vendorId], references: [id], onUpdate: NoAction)
  Asset       Asset[]  @relation("ContractAssets")
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model D2_Test {
  Date                String? @db.NVarChar(Max)
  Class               String? @db.NVarChar(Max)
  Empid               String? @db.NVarChar(Max)
  Partnum             String? @db.NVarChar(Max)
  CustLotNum          String? @db.NVarChar(Max)
  Equip               String? @db.NVarChar(Max)
  StacksNum           String? @db.NVarChar(Max)
  LE                  String? @db.NVarChar(Max)
  CPK_Spec            String? @db.NVarChar(Max)
  YellowStacksNum     String? @db.NVarChar(Max)
  PlateThickness      String? @db.NVarChar(Max)
  TotalPlateThickness String? @db.NVarChar(Max)
  T1_Drill            String? @db.NVarChar(Max)
  ModifyConditions    String? @db.NVarChar(Max)
  AOIValue            String? @db.NVarChar(Max)
  First_Axis          String? @db.NVarChar(Max)
  Second_Axis         String? @db.NVarChar(Max)
  Third_Axis          String? @db.NVarChar(Max)
  Fourth_Axis         String? @db.NVarChar(Max)
  Fifth_Axis          String? @db.NVarChar(Max)
  Sixth_Axis          String? @db.NVarChar(Max)
  First_over          String? @db.NVarChar(Max)
  Second_over         String? @db.NVarChar(Max)
  Third_over          String? @db.NVarChar(Max)
  Fourth_over         String? @db.NVarChar(Max)
  Fifth_over          String? @db.NVarChar(Max)
  Sixth_over          String? @db.NVarChar(Max)
  Review              String? @db.NVarChar(Max)
  Memo                String? @db.NVarChar(Max)
  Unnamed__29         String? @map("Unnamed: 29") @db.NVarChar(Max)
  Unnamed__30         String? @map("Unnamed: 30") @db.NVarChar(Max)
  Unnamed__31         String? @map("Unnamed: 31") @db.NVarChar(Max)
  Unnamed__32         String? @map("Unnamed: 32") @db.NVarChar(Max)
  Unnamed__33         String? @map("Unnamed: 33") @db.NVarChar(Max)
  Unnamed__34         String? @map("Unnamed: 34") @db.NVarChar(Max)
  Unnamed__35         String? @map("Unnamed: 35") @db.NVarChar(Max)
  Unnamed__36         String? @map("Unnamed: 36") @db.NVarChar(Max)
  Unnamed__37         String? @map("Unnamed: 37") @db.NVarChar(Max)
  Unnamed__38         String? @map("Unnamed: 38") @db.NVarChar(Max)
  Unnamed__39         String? @map("Unnamed: 39") @db.NVarChar(Max)
  Unnamed__40         String? @map("Unnamed: 40") @db.NVarChar(Max)
  Unnamed__41         String? @map("Unnamed: 41") @db.NVarChar(Max)
  Unnamed__42         String? @map("Unnamed: 42") @db.NVarChar(Max)
  Unnamed__43         String? @map("Unnamed: 43") @db.NVarChar(Max)
  Unnamed__44         String? @map("Unnamed: 44") @db.NVarChar(Max)
  Unnamed__45         String? @map("Unnamed: 45") @db.NVarChar(Max)
  Unnamed__46         String? @map("Unnamed: 46") @db.NVarChar(Max)
  Unnamed__47         String? @map("Unnamed: 47") @db.NVarChar(Max)
  Unnamed__48         String? @map("Unnamed: 48") @db.NVarChar(Max)
  Unnamed__49         String? @map("Unnamed: 49") @db.NVarChar(Max)
  Unnamed__50         String? @map("Unnamed: 50") @db.NVarChar(Max)
  Unnamed__51         String? @map("Unnamed: 51") @db.NVarChar(Max)
  Unnamed__52         String? @map("Unnamed: 52") @db.NVarChar(Max)
  Unnamed__53         String? @map("Unnamed: 53") @db.NVarChar(Max)
  Unnamed__54         String? @map("Unnamed: 54") @db.NVarChar(Max)
  Unnamed__55         String? @map("Unnamed: 55") @db.NVarChar(Max)
  Unnamed__56         String? @map("Unnamed: 56") @db.NVarChar(Max)
  Unnamed__57         String? @map("Unnamed: 57") @db.NVarChar(Max)
  Unnamed__58         String? @map("Unnamed: 58") @db.NVarChar(Max)
  Unnamed__59         String? @map("Unnamed: 59") @db.NVarChar(Max)
  Unnamed__60         String? @map("Unnamed: 60") @db.NVarChar(Max)
  Unnamed__61         String? @map("Unnamed: 61") @db.NVarChar(Max)
  Unnamed__62         String? @map("Unnamed: 62") @db.NVarChar(Max)
  Unnamed__63         String? @map("Unnamed: 63") @db.NVarChar(Max)
  Unnamed__64         String? @map("Unnamed: 64") @db.NVarChar(Max)
  Unnamed__65         String? @map("Unnamed: 65") @db.NVarChar(Max)
  Unnamed__66         String? @map("Unnamed: 66") @db.NVarChar(Max)
  Unnamed__67         String? @map("Unnamed: 67") @db.NVarChar(Max)
  Unnamed__68         String? @map("Unnamed: 68") @db.NVarChar(Max)
  Unnamed__69         String? @map("Unnamed: 69") @db.NVarChar(Max)
  Unnamed__70         String? @map("Unnamed: 70") @db.NVarChar(Max)
  Unnamed__71         String? @map("Unnamed: 71") @db.NVarChar(Max)
  Unnamed__72         String? @map("Unnamed: 72") @db.NVarChar(Max)
  Unnamed__73         String? @map("Unnamed: 73") @db.NVarChar(Max)
  Unnamed__74         String? @map("Unnamed: 74") @db.NVarChar(Max)
  Unnamed__75         String? @map("Unnamed: 75") @db.NVarChar(Max)
  Unnamed__76         String? @map("Unnamed: 76") @db.NVarChar(Max)
  Unnamed__77         String? @map("Unnamed: 77") @db.NVarChar(Max)
  Unnamed__78         String? @map("Unnamed: 78") @db.NVarChar(Max)
  Unnamed__79         String? @map("Unnamed: 79") @db.NVarChar(Max)
  Unnamed__80         String? @map("Unnamed: 80") @db.NVarChar(Max)
  Unnamed__81         String? @map("Unnamed: 81") @db.NVarChar(Max)
  Unnamed__82         String? @map("Unnamed: 82") @db.NVarChar(Max)
  Unnamed__83         String? @map("Unnamed: 83") @db.NVarChar(Max)
  Unnamed__84         String? @map("Unnamed: 84") @db.NVarChar(Max)
  Unnamed__85         String? @map("Unnamed: 85") @db.NVarChar(Max)
  Unnamed__86         String? @map("Unnamed: 86") @db.NVarChar(Max)
  Unnamed__87         String? @map("Unnamed: 87") @db.NVarChar(Max)
  Unnamed__88         String? @map("Unnamed: 88") @db.NVarChar(Max)
  Unnamed__89         String? @map("Unnamed: 89") @db.NVarChar(Max)
  Unnamed__90         String? @map("Unnamed: 90") @db.NVarChar(Max)
  Unnamed__91         String? @map("Unnamed: 91") @db.NVarChar(Max)
  Unnamed__92         String? @map("Unnamed: 92") @db.NVarChar(Max)
  Unnamed__93         String? @map("Unnamed: 93") @db.NVarChar(Max)
  Unnamed__94         String? @map("Unnamed: 94") @db.NVarChar(Max)
  Unnamed__95         String? @map("Unnamed: 95") @db.NVarChar(Max)
  Unnamed__96         String? @map("Unnamed: 96") @db.NVarChar(Max)
  Unnamed__97         String? @map("Unnamed: 97") @db.NVarChar(Max)
  Unnamed__98         String? @map("Unnamed: 98") @db.NVarChar(Max)
  Unnamed__99         String? @map("Unnamed: 99") @db.NVarChar(Max)
  Unnamed__100        String? @map("Unnamed: 100") @db.NVarChar(Max)
  Unnamed__101        String? @map("Unnamed: 101") @db.NVarChar(Max)
  Unnamed__102        String? @map("Unnamed: 102") @db.NVarChar(Max)
  Unnamed__103        String? @map("Unnamed: 103") @db.NVarChar(Max)
  Unnamed__104        String? @map("Unnamed: 104") @db.NVarChar(Max)
  Unnamed__105        String? @map("Unnamed: 105") @db.NVarChar(Max)
  Unnamed__106        String? @map("Unnamed: 106") @db.NVarChar(Max)
  Unnamed__107        String? @map("Unnamed: 107") @db.NVarChar(Max)
  Unnamed__108        String? @map("Unnamed: 108") @db.NVarChar(Max)
  Unnamed__109        String? @map("Unnamed: 109") @db.NVarChar(Max)
  Unnamed__110        String? @map("Unnamed: 110") @db.NVarChar(Max)
  Unnamed__111        String? @map("Unnamed: 111") @db.NVarChar(Max)
  Unnamed__112        String? @map("Unnamed: 112") @db.NVarChar(Max)
  Unnamed__113        String? @map("Unnamed: 113") @db.NVarChar(Max)
  Unnamed__114        String? @map("Unnamed: 114") @db.NVarChar(Max)
  Unnamed__115        String? @map("Unnamed: 115") @db.NVarChar(Max)
  Unnamed__116        String? @map("Unnamed: 116") @db.NVarChar(Max)
  Unnamed__117        String? @map("Unnamed: 117") @db.NVarChar(Max)
  Unnamed__118        String? @map("Unnamed: 118") @db.NVarChar(Max)
  Unnamed__119        String? @map("Unnamed: 119") @db.NVarChar(Max)
  Unnamed__120        String? @map("Unnamed: 120") @db.NVarChar(Max)
  Unnamed__121        String? @map("Unnamed: 121") @db.NVarChar(Max)
  Unnamed__122        String? @map("Unnamed: 122") @db.NVarChar(Max)
  Unnamed__123        String? @map("Unnamed: 123") @db.NVarChar(Max)
  Unnamed__124        String? @map("Unnamed: 124") @db.NVarChar(Max)
  Unnamed__125        String? @map("Unnamed: 125") @db.NVarChar(Max)
  Unnamed__126        String? @map("Unnamed: 126") @db.NVarChar(Max)
  Unnamed__127        String? @map("Unnamed: 127") @db.NVarChar(Max)
  Unnamed__128        String? @map("Unnamed: 128") @db.NVarChar(Max)
  Unnamed__129        String? @map("Unnamed: 129") @db.NVarChar(Max)
  Unnamed__130        String? @map("Unnamed: 130") @db.NVarChar(Max)
  Unnamed__131        String? @map("Unnamed: 131") @db.NVarChar(Max)
  Unnamed__132        String? @map("Unnamed: 132") @db.NVarChar(Max)
  Unnamed__133        String? @map("Unnamed: 133") @db.NVarChar(Max)
  Unnamed__134        String? @map("Unnamed: 134") @db.NVarChar(Max)
  Unnamed__135        String? @map("Unnamed: 135") @db.NVarChar(Max)
  Unnamed__136        String? @map("Unnamed: 136") @db.NVarChar(Max)
  Unnamed__137        String? @map("Unnamed: 137") @db.NVarChar(Max)
  Unnamed__138        String? @map("Unnamed: 138") @db.NVarChar(Max)
  Unnamed__139        String? @map("Unnamed: 139") @db.NVarChar(Max)
  Unnamed__140        String? @map("Unnamed: 140") @db.NVarChar(Max)
  Unnamed__141        String? @map("Unnamed: 141") @db.NVarChar(Max)
  Unnamed__142        String? @map("Unnamed: 142") @db.NVarChar(Max)
  Unnamed__143        String? @map("Unnamed: 143") @db.NVarChar(Max)
  Unnamed__144        String? @map("Unnamed: 144") @db.NVarChar(Max)
  Unnamed__145        String? @map("Unnamed: 145") @db.NVarChar(Max)
  Unnamed__146        String? @map("Unnamed: 146") @db.NVarChar(Max)
  Unnamed__147        String? @map("Unnamed: 147") @db.NVarChar(Max)
  Unnamed__148        String? @map("Unnamed: 148") @db.NVarChar(Max)
  Unnamed__149        String? @map("Unnamed: 149") @db.NVarChar(Max)
  Unnamed__150        String? @map("Unnamed: 150") @db.NVarChar(Max)
  Unnamed__151        String? @map("Unnamed: 151") @db.NVarChar(Max)
  Unnamed__152        String? @map("Unnamed: 152") @db.NVarChar(Max)
  Unnamed__153        String? @map("Unnamed: 153") @db.NVarChar(Max)
  Unnamed__154        String? @map("Unnamed: 154") @db.NVarChar(Max)
  Unnamed__155        String? @map("Unnamed: 155") @db.NVarChar(Max)
  Unnamed__156        String? @map("Unnamed: 156") @db.NVarChar(Max)
  Unnamed__157        String? @map("Unnamed: 157") @db.NVarChar(Max)
  Unnamed__158        String? @map("Unnamed: 158") @db.NVarChar(Max)
  Unnamed__159        String? @map("Unnamed: 159") @db.NVarChar(Max)
  Unnamed__160        String? @map("Unnamed: 160") @db.NVarChar(Max)
  Unnamed__161        String? @map("Unnamed: 161") @db.NVarChar(Max)
  Unnamed__162        String? @map("Unnamed: 162") @db.NVarChar(Max)
  Unnamed__163        String? @map("Unnamed: 163") @db.NVarChar(Max)
  Unnamed__164        String? @map("Unnamed: 164") @db.NVarChar(Max)
  Unnamed__165        String? @map("Unnamed: 165") @db.NVarChar(Max)
  Unnamed__166        String? @map("Unnamed: 166") @db.NVarChar(Max)
  Unnamed__167        String? @map("Unnamed: 167") @db.NVarChar(Max)
  Unnamed__168        String? @map("Unnamed: 168") @db.NVarChar(Max)
  Unnamed__169        String? @map("Unnamed: 169") @db.NVarChar(Max)
  Unnamed__170        String? @map("Unnamed: 170") @db.NVarChar(Max)
  Unnamed__171        String? @map("Unnamed: 171") @db.NVarChar(Max)
  Unnamed__172        String? @map("Unnamed: 172") @db.NVarChar(Max)
  Unnamed__173        String? @map("Unnamed: 173") @db.NVarChar(Max)
  Unnamed__174        String? @map("Unnamed: 174") @db.NVarChar(Max)
  Unnamed__175        String? @map("Unnamed: 175") @db.NVarChar(Max)
  Unnamed__176        String? @map("Unnamed: 176") @db.NVarChar(Max)
  Unnamed__177        String? @map("Unnamed: 177") @db.NVarChar(Max)
  Unnamed__178        String? @map("Unnamed: 178") @db.NVarChar(Max)
  Unnamed__179        String? @map("Unnamed: 179") @db.NVarChar(Max)
  Unnamed__180        String? @map("Unnamed: 180") @db.NVarChar(Max)
  Unnamed__181        String? @map("Unnamed: 181") @db.NVarChar(Max)
  Unnamed__182        String? @map("Unnamed: 182") @db.NVarChar(Max)
  Unnamed__183        String? @map("Unnamed: 183") @db.NVarChar(Max)
  Unnamed__184        String? @map("Unnamed: 184") @db.NVarChar(Max)
  Unnamed__185        String? @map("Unnamed: 185") @db.NVarChar(Max)
  Unnamed__186        String? @map("Unnamed: 186") @db.NVarChar(Max)
  Unnamed__187        String? @map("Unnamed: 187") @db.NVarChar(Max)
  Unnamed__188        String? @map("Unnamed: 188") @db.NVarChar(Max)
  Unnamed__189        String? @map("Unnamed: 189") @db.NVarChar(Max)
  Unnamed__190        String? @map("Unnamed: 190") @db.NVarChar(Max)
  Unnamed__191        String? @map("Unnamed: 191") @db.NVarChar(Max)
  Unnamed__192        String? @map("Unnamed: 192") @db.NVarChar(Max)
  Unnamed__193        String? @map("Unnamed: 193") @db.NVarChar(Max)
  Unnamed__194        String? @map("Unnamed: 194") @db.NVarChar(Max)
  Unnamed__195        String? @map("Unnamed: 195") @db.NVarChar(Max)
  Unnamed__196        String? @map("Unnamed: 196") @db.NVarChar(Max)
  Unnamed__197        String? @map("Unnamed: 197") @db.NVarChar(Max)
  Unnamed__198        String? @map("Unnamed: 198") @db.NVarChar(Max)
  Unnamed__199        String? @map("Unnamed: 199") @db.NVarChar(Max)
  Unnamed__200        String? @map("Unnamed: 200") @db.NVarChar(Max)
  Unnamed__201        String? @map("Unnamed: 201") @db.NVarChar(Max)
  Unnamed__202        String? @map("Unnamed: 202") @db.NVarChar(Max)
  Unnamed__203        String? @map("Unnamed: 203") @db.NVarChar(Max)
  Unnamed__204        String? @map("Unnamed: 204") @db.NVarChar(Max)
  Unnamed__205        String? @map("Unnamed: 205") @db.NVarChar(Max)
  Unnamed__206        String? @map("Unnamed: 206") @db.NVarChar(Max)
  Unnamed__207        String? @map("Unnamed: 207") @db.NVarChar(Max)
  Unnamed__208        String? @map("Unnamed: 208") @db.NVarChar(Max)
  Unnamed__209        String? @map("Unnamed: 209") @db.NVarChar(Max)
  Unnamed__210        String? @map("Unnamed: 210") @db.NVarChar(Max)
  Unnamed__211        String? @map("Unnamed: 211") @db.NVarChar(Max)
  Unnamed__212        String? @map("Unnamed: 212") @db.NVarChar(Max)
  Unnamed__213        String? @map("Unnamed: 213") @db.NVarChar(Max)
  Unnamed__214        String? @map("Unnamed: 214") @db.NVarChar(Max)
  Unnamed__215        String? @map("Unnamed: 215") @db.NVarChar(Max)
  Unnamed__216        String? @map("Unnamed: 216") @db.NVarChar(Max)
  Unnamed__217        String? @map("Unnamed: 217") @db.NVarChar(Max)
  Unnamed__218        String? @map("Unnamed: 218") @db.NVarChar(Max)
  Unnamed__219        String? @map("Unnamed: 219") @db.NVarChar(Max)
  Unnamed__220        String? @map("Unnamed: 220") @db.NVarChar(Max)
  Unnamed__221        String? @map("Unnamed: 221") @db.NVarChar(Max)
  Unnamed__222        String? @map("Unnamed: 222") @db.NVarChar(Max)
  Unnamed__223        String? @map("Unnamed: 223") @db.NVarChar(Max)
  Unnamed__224        String? @map("Unnamed: 224") @db.NVarChar(Max)
  Unnamed__225        String? @map("Unnamed: 225") @db.NVarChar(Max)
  Unnamed__226        String? @map("Unnamed: 226") @db.NVarChar(Max)
  Unnamed__227        String? @map("Unnamed: 227") @db.NVarChar(Max)
  Unnamed__228        String? @map("Unnamed: 228") @db.NVarChar(Max)
  Unnamed__229        String? @map("Unnamed: 229") @db.NVarChar(Max)
  Unnamed__230        String? @map("Unnamed: 230") @db.NVarChar(Max)
  Unnamed__231        String? @map("Unnamed: 231") @db.NVarChar(Max)
  Unnamed__232        String? @map("Unnamed: 232") @db.NVarChar(Max)
  Unnamed__233        String? @map("Unnamed: 233") @db.NVarChar(Max)
  Unnamed__234        String? @map("Unnamed: 234") @db.NVarChar(Max)
  Unnamed__235        String? @map("Unnamed: 235") @db.NVarChar(Max)
  Unnamed__236        String? @map("Unnamed: 236") @db.NVarChar(Max)
  Unnamed__237        String? @map("Unnamed: 237") @db.NVarChar(Max)
  Unnamed__238        String? @map("Unnamed: 238") @db.NVarChar(Max)
  Unnamed__239        String? @map("Unnamed: 239") @db.NVarChar(Max)
  Unnamed__240        String? @map("Unnamed: 240") @db.NVarChar(Max)
  Unnamed__241        String? @map("Unnamed: 241") @db.NVarChar(Max)
  Unnamed__242        String? @map("Unnamed: 242") @db.NVarChar(Max)
  Unnamed__243        String? @map("Unnamed: 243") @db.NVarChar(Max)
  Unnamed__244        String? @map("Unnamed: 244") @db.NVarChar(Max)
  Unnamed__245        String? @map("Unnamed: 245") @db.NVarChar(Max)
  Unnamed__246        String? @map("Unnamed: 246") @db.NVarChar(Max)
  Unnamed__247        String? @map("Unnamed: 247") @db.NVarChar(Max)
  Unnamed__248        String? @map("Unnamed: 248") @db.NVarChar(Max)
  Unnamed__249        String? @map("Unnamed: 249") @db.NVarChar(Max)
  Unnamed__250        String? @map("Unnamed: 250") @db.NVarChar(Max)
  Unnamed__251        String? @map("Unnamed: 251") @db.NVarChar(Max)
  Unnamed__252        String? @map("Unnamed: 252") @db.NVarChar(Max)
  Unnamed__253        String? @map("Unnamed: 253") @db.NVarChar(Max)
  Unnamed__254        String? @map("Unnamed: 254") @db.NVarChar(Max)

  @@ignore
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model D2_Test1 {
  Date                String? @db.NVarChar(Max)
  Class               String? @db.NVarChar(Max)
  Empid               String? @db.NVarChar(Max)
  Partnum             String? @db.NVarChar(Max)
  CustLotNum          String? @db.NVarChar(Max)
  Equip               String? @db.NVarChar(Max)
  StacksNum           String? @db.NVarChar(Max)
  LE                  String? @db.NVarChar(Max)
  CPK_Spec            String? @db.NVarChar(Max)
  YellowStacksNum     String? @db.NVarChar(Max)
  PlateThickness      String? @db.NVarChar(Max)
  TotalPlateThickness String? @db.NVarChar(Max)
  T1_Drill            String? @db.NVarChar(Max)
  ModifyConditions    String? @db.NVarChar(Max)
  AOIValue            String? @db.NVarChar(Max)
  First_Axis          String? @db.NVarChar(Max)
  Second_Axis         String? @db.NVarChar(Max)
  Third_Axis          String? @db.NVarChar(Max)
  Fourth_Axis         String? @db.NVarChar(Max)
  Fifth_Axis          String? @db.NVarChar(Max)
  Sixth_Axis          String? @db.NVarChar(Max)
  First_over          String? @db.NVarChar(Max)
  Second_over         String? @db.NVarChar(Max)
  Third_over          String? @db.NVarChar(Max)
  Fourth_over         String? @db.NVarChar(Max)
  Fifth_over          String? @db.NVarChar(Max)
  Sixth_over          String? @db.NVarChar(Max)
  Review              String? @db.NVarChar(Max)
  Memo                String? @db.NVarChar(Max)

  @@ignore
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model D2_Test2 {
  Date                String? @db.NVarChar(100)
  Class               String? @db.NVarChar(100)
  Empid               String? @db.NVarChar(100)
  Partnum             String? @db.NVarChar(100)
  CustLotNum          String? @db.NVarChar(100)
  Equip               String? @db.NVarChar(100)
  StacksNum           String? @db.NVarChar(100)
  LE                  String? @db.NVarChar(100)
  CPK_Spec            String? @db.NVarChar(100)
  YellowStacksNum     String? @db.NVarChar(100)
  PlateThickness      String? @db.NVarChar(100)
  TotalPlateThickness String? @db.NVarChar(100)
  T1_Drill            String? @db.NVarChar(100)
  ModifyConditions    String? @db.NVarChar(100)
  AOIValue            String? @db.NVarChar(100)
  First_Axis          String? @db.NVarChar(100)
  Second_Axis         String? @db.NVarChar(100)
  Third_Axis          String? @db.NVarChar(100)
  Fourth_Axis         String? @db.NVarChar(100)
  Fifth_Axis          String? @db.NVarChar(100)
  Sixth_Axis          String? @db.NVarChar(100)
  First_over          String? @db.NVarChar(100)
  Second_over         String? @db.NVarChar(100)
  Third_over          String? @db.NVarChar(100)
  Fourth_over         String? @db.NVarChar(100)
  Fifth_over          String? @db.NVarChar(100)
  Sixth_over          String? @db.NVarChar(100)
  Review              String? @db.NVarChar(100)
  Memo                String? @db.NVarChar(100)

  @@ignore
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model D2_Test5 {
  Date                String? @db.NVarChar(100)
  Class               String? @db.NVarChar(100)
  Empid               String? @db.NVarChar(100)
  Partnum             String? @db.NVarChar(100)
  CustLotNum          String? @db.NVarChar(100)
  Equip               String? @db.NVarChar(100)
  StacksNum           String? @db.NVarChar(100)
  LE                  String? @db.NVarChar(100)
  CPK_Spec            String? @db.NVarChar(100)
  YellowStacksNum     String? @db.NVarChar(100)
  PlateThickness      String? @db.NVarChar(100)
  TotalPlateThickness String? @db.NVarChar(100)
  T1_Drill            String? @db.NVarChar(100)
  ModifyConditions    String? @db.NVarChar(100)
  AOIValue            String? @db.NVarChar(100)
  First_Axis          String? @db.NVarChar(100)
  Second_Axis         String? @db.NVarChar(100)
  Third_Axis          String? @db.NVarChar(100)
  Fourth_Axis         String? @db.NVarChar(100)
  Fifth_Axis          String? @db.NVarChar(100)
  Sixth_Axis          String? @db.NVarChar(100)
  First_over          String? @db.NVarChar(100)
  Second_over         String? @db.NVarChar(100)
  Third_over          String? @db.NVarChar(100)
  Fourth_over         String? @db.NVarChar(100)
  Fifth_over          String? @db.NVarChar(100)
  Sixth_over          String? @db.NVarChar(100)
  Review              String? @db.NVarChar(100)
  Memo                String? @db.NVarChar(100)

  @@ignore
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model D2_Test6 {
  ExpDate       String? @db.NVarChar(100)
  Wtid          String? @db.NVarChar(100)
  AbnormalMsg   String? @db.NVarChar(100)
  ExpBegintime  String? @db.NVarChar(100)
  ExpEndtime    String? @db.NVarChar(100)
  OpStatus      String? @db.NVarChar(100)
  MRBno         String? @db.NVarChar(100)
  IsA58Part     String? @db.NVarChar(100)
  ManufactureID String? @db.NVarChar(100)
  MaintainID    String? @db.NVarChar(100)
  QualityID     String? @db.NVarChar(100)

  @@ignore
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model D2_Test7 {
  ExpDate       String? @db.NVarChar(100)
  Wtid          String? @db.NVarChar(100)
  AbnormalMsg   String? @db.NVarChar(100)
  ExpBegintime  String? @db.NVarChar(100)
  ExpEndtime    String? @db.NVarChar(100)
  OpStatus      String? @db.NVarChar(100)
  MRBno         String? @db.NVarChar(100)
  IsA58Part     String? @db.NVarChar(100)
  ManufactureID String? @db.NVarChar(100)
  MaintainID    String? @db.NVarChar(100)
  QualityID     String? @db.NVarChar(100)

  @@ignore
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model D2_Test8 {
  date         String? @db.NVarChar(100)
  floor        String? @db.NVarChar(100)
  shift        String? @db.NVarChar(100)
  machine      String? @db.NVarChar(100)
  time         String? @db.NVarChar(100)
  material_no_ String? @map("material no.") @db.NVarChar(100)
  lot_no_      String? @map("lot no.") @db.NVarChar(100)
  runs         String? @db.NVarChar(100)
  program_time String? @map("program time") @db.NVarChar(100)
  stack_qty    String? @map("stack qty") @db.NVarChar(100)
  result       String? @db.NVarChar(100)
  operator     String? @db.NVarChar(100)

  @@ignore
}

model departments {
  id        Int         @id(map: "PK__departme__3213E83F9094D641") @default(autoincrement())
  name      String      @unique(map: "UQ__departme__72E12F1B09AF81BB") @db.NVarChar(40)
  employees employees[]
}

model Document {
  id          Int      @id @default(autoincrement())
  name        String
  filePath    String
  version     String
  permission  String
  createdAt   DateTime @default(now())
  createdById Int
  User        User     @relation(fields: [createdById], references: [id], onUpdate: NoAction)
}

model employee_roles {
  employee_id Int
  role_id     Int
  employees   employees @relation(fields: [employee_id], references: [id], onUpdate: NoAction, map: "fk_er_emp")
  roles       roles     @relation(fields: [role_id], references: [id], onUpdate: NoAction, map: "fk_er_role")

  @@id([employee_id, role_id], map: "PK__employee__124E9DF4B2552CDF")
}

model employees {
  id             Int              @id(map: "PK__employee__3213E83FC5482EFE") @default(autoincrement())
  first_name     String           @db.NVarChar(40)
  last_name      String           @db.NVarChar(40)
  employee_code  String           @unique(map: "UQ__employee__B0AA7345772088F8") @db.NVarChar(6)
  department_id  Int
  is_dept_head   Boolean          @default(false, map: "DF__employees__is_de__06CD04F7")
  is_active      Boolean          @default(true, map: "DF__employees__is_ac__07C12930")
  employee_roles employee_roles[]
  departments    departments      @relation(fields: [department_id], references: [id], onUpdate: NoAction, map: "fk_emp_dept")
}

model InventoryCategory {
  id            Int             @id @default(autoincrement())
  name          String          @unique
  InventoryItem InventoryItem[]
}

model InventoryItem {
  id                   Int                    @id @default(autoincrement())
  name                 String
  description          String?                @db.NVarChar(Max)
  barcode              String?                @unique
  serialNumber         String?
  categoryId           Int
  supplierId           Int?
  stock                Int                    @default(0)
  minStock             Int                    @default(0)
  unit                 String?
  imagePath            String?
  InventoryCategory    InventoryCategory      @relation(fields: [categoryId], references: [id], onUpdate: NoAction)
  InventorySupplier    InventorySupplier?     @relation(fields: [supplierId], references: [id], onDelete: NoAction, onUpdate: NoAction)
  InventoryTransaction InventoryTransaction[]
}

model InventorySupplier {
  id            Int             @id @default(autoincrement())
  name          String
  contact       String?
  email         String?
  phone         String?
  InventoryItem InventoryItem[]
}

model InventoryTransaction {
  id            Int           @id @default(autoincrement())
  itemId        Int
  type          String
  qty           Int
  userId        Int?
  date          DateTime      @default(now())
  note          String?
  barcode       String?
  InventoryItem InventoryItem @relation(fields: [itemId], references: [id], onUpdate: NoAction)
  User          User?         @relation(fields: [userId], references: [id], onDelete: NoAction, onUpdate: NoAction)
}

model it_departments {
  id           Int            @id(map: "PK__it_depar__3213E83F31310604") @default(autoincrement())
  name         String         @unique(map: "UQ__it_depar__72E12F1BDA9686D6") @db.NVarChar(40)
  it_employees it_employees[]
}

model it_employee_roles {
  employee_id  Int
  role_id      Int
  it_employees it_employees @relation(fields: [employee_id], references: [id], onUpdate: NoAction, map: "fk_er_it_emp")
  it_roles     it_roles     @relation(fields: [role_id], references: [id], onUpdate: NoAction, map: "fk_er_it_role")

  @@id([employee_id, role_id], map: "PK__it_emplo__124E9DF43836A5D1")
}

model it_employees {
  id                Int                 @id(map: "PK__it_emplo__3213E83FCE8FE05D") @default(autoincrement())
  first_name        String              @db.NVarChar(40)
  last_name         String              @db.NVarChar(40)
  employee_code     String              @unique(map: "UQ__it_emplo__B0AA7345D5E4AC4B") @db.NVarChar(6)
  department_id     Int
  is_dept_head      Boolean             @default(false, map: "DF__it_employ__is_de__245D67DE")
  is_active         Boolean             @default(true, map: "DF__it_employ__is_ac__25518C17")
  it_employee_roles it_employee_roles[]
  it_departments    it_departments      @relation(fields: [department_id], references: [id], onUpdate: NoAction, map: "fk_it_emp_dept")
}

model it_roles {
  id                Int                 @id(map: "PK__it_roles__3213E83FC68A83FB") @default(autoincrement())
  name              String              @unique(map: "UQ__it_roles__72E12F1BC09CABB5") @db.NVarChar(50)
  it_employee_roles it_employee_roles[]
}

model KnowledgeBase {
  id             Int      @id @default(autoincrement())
  title          String
  content        String   @db.NVarChar(Max)
  category       String?
  tags           String?
  isPublic       Boolean  @default(false)
  createdById    Int
  linkedTicketId Int?
  createdAt      DateTime @default(now())
  updatedAt      DateTime
  User           User     @relation(fields: [createdById], references: [id], onUpdate: NoAction)
  Ticket         Ticket?  @relation(fields: [linkedTicketId], references: [id], onDelete: NoAction, onUpdate: NoAction)
}

model License {
  id           Int      @id @default(autoincrement())
  softwareName String
  licenseKey   String
  expireDate   DateTime
  assetId      Int
  Asset        Asset    @relation(fields: [assetId], references: [id], onUpdate: NoAction)
}

model Monitor {
  id         Int      @id @default(autoincrement())
  targetName String
  ipAddress  String
  status     String
  lastCheck  DateTime
  assetId    Int      @unique
  Asset      Asset    @relation(fields: [assetId], references: [id], onUpdate: NoAction)
}

model roles {
  id             Int              @id(map: "PK__roles__3213E83F69C05F84") @default(autoincrement())
  name           String           @unique(map: "UQ__roles__72E12F1B70A7116D") @db.NVarChar(50)
  employee_roles employee_roles[]
}

model Ticket {
  id                              Int                @id @default(autoincrement())
  title                           String
  description                     String             @db.NVarChar(Max)
  resolutionNote                  String?            @db.NVarChar(Max)
  status                          String             @default("OPEN") @db.NVarChar(50)
  createdAt                       DateTime           @default(now())
  assetId                         Int?
  requestedById                   Int
  assignedToId                    Int?
  KnowledgeBase                   KnowledgeBase[]
  Asset                           Asset?             @relation(fields: [assetId], references: [id], onDelete: NoAction, onUpdate: NoAction)
  User_Ticket_assignedToIdToUser  User?              @relation("Ticket_assignedToIdToUser", fields: [assignedToId], references: [id], onDelete: NoAction, onUpdate: NoAction)
  User_Ticket_requestedByIdToUser User               @relation("Ticket_requestedByIdToUser", fields: [requestedById], references: [id], onUpdate: NoAction)
  TicketAttachment                TicketAttachment[]
  TicketComment                   TicketComment[]
  TicketHistory                   TicketHistory[]
}

model TicketAttachment {
  id           Int      @id @default(autoincrement())
  fileName     String
  filePath     String
  uploadedAt   DateTime @default(now())
  ticketId     Int
  uploadedById Int
  Ticket       Ticket   @relation(fields: [ticketId], references: [id], onUpdate: NoAction)
  User         User     @relation(fields: [uploadedById], references: [id], onUpdate: NoAction)
}

model TicketComment {
  id          Int      @id @default(autoincrement())
  content     String   @db.NVarChar(Max)
  createdAt   DateTime @default(now())
  ticketId    Int
  createdById Int
  User        User     @relation(fields: [createdById], references: [id], onUpdate: NoAction)
  Ticket      Ticket   @relation(fields: [ticketId], references: [id], onUpdate: NoAction)
}

model TicketHistory {
  id          Int      @id @default(autoincrement())
  ticketId    Int
  oldStatus   String   @db.NVarChar(50)
  newStatus   String   @db.NVarChar(50)
  changedById Int
  changedAt   DateTime @default(now())
  note        String?  @db.NVarChar(Max)
  User        User     @relation(fields: [changedById], references: [id], onUpdate: NoAction)
  Ticket      Ticket   @relation(fields: [ticketId], references: [id], onUpdate: NoAction)
}

model User {
  id                                         Int                    @id @default(autoincrement())
  name                                       String
  empId                                      String                 @unique
  email                                      String
  password                                   String
  role                                       String                 @default("USER") @db.NVarChar(50)
  department                                 String?
  Asset                                      Asset[]
  AssetHistory_AssetHistory_newOwnerIdToUser AssetHistory[]         @relation("AssetHistory_newOwnerIdToUser")
  AssetHistory_AssetHistory_oldOwnerIdToUser AssetHistory[]         @relation("AssetHistory_oldOwnerIdToUser")
  AuditLog                                   AuditLog[]
  Document                                   Document[]
  InventoryTransaction                       InventoryTransaction[]
  KnowledgeBase                              KnowledgeBase[]
  Ticket_Ticket_assignedToIdToUser           Ticket[]               @relation("Ticket_assignedToIdToUser")
  Ticket_Ticket_requestedByIdToUser          Ticket[]               @relation("Ticket_requestedByIdToUser")
  TicketAttachment                           TicketAttachment[]
  TicketComment                              TicketComment[]
  TicketHistory                              TicketHistory[]
}

model Vendor {
  id       Int        @id @default(autoincrement())
  name     String
  contact  String?
  email    String?
  phone    String?
  website  String?
  address  String?
  Contract Contract[]
}

model webmes_User {
  id         Int               @id @default(autoincrement())
  employeeId String            @unique
  fullName   String
  department String
  email      String            @unique
  password   String
  // phone      String?    @default("0")
  isActive   Boolean           @default(true)
  roles      webmes_UserRole[]
  createdAt  DateTime          @default(now())
  updatedAt  DateTime          @updatedAt
}

model webmes_Role {
  id          Int                     @id @default(autoincrement())
  name        String                  @unique
  description String?
  permissions webmes_RolePermission[]
  users       webmes_UserRole[]
}

model webmes_Permission {
  id     Int                     @id @default(autoincrement())
  name   String // เช่น "asset.create"
  module String // เช่น "Asset"
  roles  webmes_RolePermission[]

  @@unique([name, module])
}

model webmes_UserRole {
  id     Int         @id @default(autoincrement())
  user   webmes_User @relation(fields: [userId], references: [id])
  userId Int
  role   webmes_Role @relation(fields: [roleId], references: [id])
  roleId Int

  @@unique([userId, roleId])
}

model webmes_RolePermission {
  id           Int               @id @default(autoincrement())
  role         webmes_Role       @relation(fields: [roleId], references: [id])
  roleId       Int
  permission   webmes_Permission @relation(fields: [permissionId], references: [id])
  permissionId Int

  @@unique([roleId, permissionId])
}
